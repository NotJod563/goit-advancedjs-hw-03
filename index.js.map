{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '49358142-402c973293bc6ed019a77a93c';\r\n\r\nexport async function fetchImages(query) {\r\n    const params = {\r\n        key: API_KEY,\r\n        q: query,\r\n        image_type: 'photo',\r\n        orientation: 'horizontal',\r\n        safesearch: 'true',\r\n    };\r\n\r\n    const response = await axios.get(BASE_URL, { params });\r\n    return response.data.hits;\r\n}","import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nlet lightbox;\r\n\r\nexport function renderGallery(images, container) {\r\n    const markup = images\r\n        .map(\r\n            ({\r\n                webformatURL,\r\n                largeImageURL,\r\n                tags,\r\n                likes,\r\n                views,\r\n                comments,\r\n                downloads,\r\n            }) => `\r\n    <li class=\"gallery-item\">\r\n      <a href=\"${largeImageURL}\">\r\n        <img src=\"${webformatURL}\" alt=\"${tags}\" />\r\n      </a>\r\n      <div class=\"info\">\r\n        <p><b>Likes</b> ${likes}</p>\r\n        <p><b>Views</b> ${views}</p>\r\n        <p><b>Comments</b> ${comments}</p>\r\n        <p><b>Downloads</b> ${downloads}</p>\r\n      </div>\r\n    </li>`\r\n        )\r\n        .join('');\r\n\r\n    container.insertAdjacentHTML('beforeend', markup);\r\n\r\n    if (!lightbox) {\r\n        lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\r\n    } else {\r\n        lightbox.refresh();\r\n    }\r\n}\r\n\r\nexport function clearGallery(container) {\r\n    container.innerHTML = '';\r\n}\r\n","import { fetchImages } from '/js/pixabay-api.js';\r\nimport { renderGallery, clearGallery } from './js/render-functions.js';\r\nimport iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nconst form = document.querySelector('.search-form');\r\nconst input = document.querySelector('#search-input');\r\nconst gallery = document.querySelector('.gallery');\r\nconst loader = document.querySelector('.loader');\r\n\r\nform.addEventListener('submit', onFormSubmit);\r\n\r\nfunction onFormSubmit(e) {\r\n    e.preventDefault();\r\n    const query = input.value.trim();\r\n    if (!query) return;\r\n\r\n    clearGallery(gallery);\r\n    showLoader();\r\n\r\n    fetchImages(query)\r\n        .then(images => {\r\n            if (images.length === 0) {\r\n                iziToast.error({\r\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\r\n                    position: 'topRight',\r\n                });\r\n                return;\r\n            }\r\n            renderGallery(images, gallery);\r\n        })\r\n        .catch(() => {\r\n            iziToast.error({\r\n                message: 'Something went wrong. Please try again later.',\r\n                position: 'topRight',\r\n            });\r\n        })\r\n        .finally(hideLoader);\r\n}\r\n\r\nfunction showLoader() {\r\n    loader.classList.remove('hidden');\r\n}\r\n\r\nfunction hideLoader() {\r\n    loader.classList.add('hidden');\r\n}\r\n"],"names":["BASE_URL","API_KEY","fetchImages","query","params","axios","lightbox","renderGallery","images","container","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","form","input","gallery","loader","onFormSubmit","e","showLoader","iziToast","hideLoader"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAYC,EAAO,CACrC,MAAMC,EAAS,CACX,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,EAGI,OADiB,MAAME,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,GACrC,KAAK,IACzB,CCbA,IAAIE,EAEG,SAASC,EAAcC,EAAQC,EAAW,CAC7C,MAAMC,EAASF,EACV,IACG,CAAC,CACG,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAChB,IAAkB;AAAA;AAAA,iBAEDL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0BAGpBC,CAAK;AAAA,0BACLC,CAAK;AAAA,6BACFC,CAAQ;AAAA,8BACPC,CAAS;AAAA;AAAA,UAG9B,EACA,KAAK,EAAE,EAEZR,EAAU,mBAAmB,YAAaC,CAAM,EAE3CJ,EAGDA,EAAS,QAAO,EAFhBA,EAAW,IAAIY,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CAI9F,CAEO,SAASC,EAAaV,EAAW,CACpCA,EAAU,UAAY,EAC1B,CCrCA,MAAMW,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMtB,EAAQkB,EAAM,MAAM,KAAI,EACzBlB,IAELgB,EAAaG,CAAO,EACpBI,IAEAxB,EAAYC,CAAK,EACZ,KAAKK,GAAU,CACZ,GAAIA,EAAO,SAAW,EAAG,CACrBmB,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDpB,EAAcC,EAAQc,CAAO,CACzC,CAAS,EACA,MAAM,IAAM,CACTK,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQC,CAAU,EAC3B,CAEA,SAASF,GAAa,CAClBH,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEA,SAASK,GAAa,CAClBL,EAAO,UAAU,IAAI,QAAQ,CACjC"}